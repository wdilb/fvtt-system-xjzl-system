/* ========================================= */
/*  XJZL Modifier Picker (Fix: High Contrast) */
/* ========================================= */

/* 1. 窗口容器 - 强制米白宣纸底色 */
.xjzl-picker-window .window-content {
    background: #f4f1ea !important;
    /* 宣纸色 */
    padding: 0;
    color: #2c2c2c;
    /* 墨色文字 */
    font-family: "Noto Serif SC", "Songti SC", serif;
    /* 宋体/衬线体 */
}

/* 2. 整体布局 */
.xjzl-modifier-picker {
    display: flex;
    flex-direction: column;
    height: 100%;
    gap: 12px;
    padding: 12px;
}

/* 3. 搜索栏 - 实心白底，清晰边框 */
.xjzl-modifier-picker .picker-search {
    position: relative;
    flex: 0 0 36px;
}

.xjzl-modifier-picker .picker-search input {
    padding-left: 34px;
    height: 36px;
    width: 100%;

    /* 强制样式 */
    background: #ffffff !important;
    border: 1px solid #d0c0a0 !important;
    /* 金棕色边框 */
    border-radius: 4px;
    color: #2c2c2c !important;
    /* 深黑文字 */
    font-family: inherit;
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
}

.xjzl-modifier-picker .picker-search input:focus {
    border-color: #b22222 !important;
    /* 聚焦变红 */
    box-shadow: 0 0 0 2px rgba(178, 34, 34, 0.1) !important;
}

.xjzl-modifier-picker .picker-search input::placeholder {
    color: #999;
}

.xjzl-modifier-picker .picker-search i {
    position: absolute;
    left: 10px;
    top: 10px;
    color: #8b7d6b;
    /* 浅褐图标 */
    pointer-events: none;
    font-size: 14px;
}

/* 4. 滚动区域 */
.xjzl-modifier-picker .picker-scroll {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    padding-right: 2px;
}

/* 5. 分组标题 - 简约线条风 */
.xjzl-modifier-picker summary.section-header {
    background: transparent;
    /* 去掉块状背景 */
    color: #8b4513;
    /* 赭石色标题 */
    padding: 8px 4px;
    font-size: 15px;
    font-weight: bold;
    margin: 10px 0 4px 0;

    /* 底部线条装饰 */
    border: none;
    border-bottom: 2px solid rgba(139, 69, 19, 0.2);
    border-radius: 0;

    list-style: none;
    cursor: pointer;
    display: flex;
    align-items: center;
}

.xjzl-modifier-picker summary.section-header::-webkit-details-marker {
    display: none;
}

.xjzl-modifier-picker summary.section-header:hover {
    color: #b22222;
    border-bottom-color: rgba(178, 34, 34, 0.3);
}

/* 6. 列表容器 */
.xjzl-modifier-picker .modifier-list {
    display: flex;
    flex-direction: column;
    gap: 4px;
    /* 增加间距 */
}

/* 7. 选项按钮 - 核心样式 */
.xjzl-modifier-picker .modifier-btn {
    /* 默认状态：半透明白底，融入背景 */
    background: rgba(255, 255, 255, 0.5);
    border: 1px solid rgba(0, 0, 0, 0.05);
    border-radius: 4px;
    padding: 8px 12px;
    cursor: pointer;
    transition: all 0.2s ease;

    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: flex-start;
    width: 100%;
    text-align: left;
    min-height: 42px;
    /* 稍微加高，更易点击 */
}

/* 悬停状态 */
.xjzl-modifier-picker .modifier-btn:hover {
    background: #ffffff;
    border-color: #d0c0a0;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    transform: translateX(2px);
    /* 微动效 */
}

/* 选中状态：白底红框 */
.xjzl-modifier-picker .modifier-btn.selected {
    background: #fff;
    border: 1px solid #b22222 !important;
    /* 强制红框 */
    box-shadow: inset 4px 0 0 #b22222;
    /* 左侧红条标记 */
}

/* --- 内容颜色修正 (解决看不清的问题) --- */

/* 左侧图标 */
.xjzl-modifier-picker .btn-icon {
    flex: 0 0 28px;
    display: flex;
    align-items: center;
    font-size: 16px;
    color: #ccc;
    /* 默认浅灰圈 */
}

.xjzl-modifier-picker .modifier-btn:hover .btn-icon {
    color: #999;
}

.xjzl-modifier-picker .modifier-btn.selected .btn-icon {
    color: #b22222;
    /* 选中变红 */
}

/* 文字区域 */
.xjzl-modifier-picker .btn-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* 第一行：显示名称 (Name) */
.xjzl-modifier-picker .btn-label {
    font-size: 14px;
    font-weight: 500;
    color: #2c2c2c !important;
    /* 【核心修正】强制深墨色 */
    line-height: 1.3;
}

/* 选中后文字变红加粗 */
.xjzl-modifier-picker .modifier-btn.selected .btn-label {
    color: #b22222 !important;
    font-weight: bold;
}

/* 第二行：键名 (Key) */
.xjzl-modifier-picker .btn-key {
    font-size: 11px;
    font-family: Consolas, monospace;
    color: #888888 !important;
    /* 【核心修正】强制中灰色，保证能看清 */
    margin-top: 2px;
}

.xjzl-modifier-picker .modifier-btn:hover .btn-key {
    color: #555555 !important;
    /* 悬停加深 */
}

/* 8. 滚动条美化 (复古风) */
.xjzl-picker-window .window-content ::-webkit-scrollbar {
    width: 6px;
}

.xjzl-picker-window .window-content ::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
}

.xjzl-picker-window .window-content ::-webkit-scrollbar-thumb {
    background: #a89f91;
    /* 灰褐色 */
    border-radius: 3px;
}

.xjzl-picker-window .window-content ::-webkit-scrollbar-thumb:hover {
    background: #8b7d6b;
}