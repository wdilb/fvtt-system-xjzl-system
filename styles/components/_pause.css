/* styles/components/_pause.css */

/* ==============================
   自定义暂停界面逻辑
   ============================== */

/* 1. 定义动画关键帧 */
@keyframes pause-spin-clockwise {
    from {
        transform: translate(-50%, -50%) rotate(0deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(360deg);
    }
}

@keyframes pause-spin-counter-clockwise {
    from {
        transform: translate(-50%, -50%) rotate(360deg);
    }

    to {
        transform: translate(-50%, -50%) rotate(0deg);
    }
}

/* 2. 暂停容器基础设置 */
#pause {
    /* 1. 使用 fixed 锁定在屏幕窗口 */
    position: fixed !important;

    /* 2. 上下左右全拉满，形成一个约束框 */
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;

    /* 3. 利用 margin: auto 在约束框里自动绝对居中 */
    margin: auto !important;

    /* 4. 强制覆盖默认的 100% 宽度，锁定为你图标的大小 */
    width: 256px !important;
    height: 256px !important;

    /* 5. 移除默认背景和可能存在的干扰属性 */
    background: none !important;
    border: none !important;
    box-shadow: none !important;
    transform: none !important;
    /* 清除可能存在的位移干扰 */

    /* 6. 功能性设置 */
    pointer-events: none;
    z-index: 100;
    /* 手动偏移像素保证居中 */
    transform: translateX(2px) !important;
}

/* 3. 最底层 (BG1) - 逆时针旋转 */
#pause::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: 1;

    /* 路径注意：向上一级(../)找 assets */
    background-image: url('../../assets/picture/pause-bg1.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;

    width: 220px;
    height: 220px;

    /* 这里的 translate 用于居中，rotate 由动画控制，
       但为了兼容，我们把 translate 写进上面的 keyframes 里了，
       这里只需要引用动画即可 */
    animation: pause-spin-counter-clockwise 20s linear infinite;

    /* 初始定位 */
    transform: translate(-50%, -50%);

    opacity: 0.5;
    /* 透明度 */
}

/* 4. 中间层 (BG2) - 顺时针旋转 - 替换默认 img */
#pause img {
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: 2;

    content: url('../../assets/picture/pause-bg2.png');

    width: 180px;
    height: 180px;

    animation: pause-spin-clockwise 10s linear infinite;

    margin: 0;
    transform: translate(-50%, -50%);
}

/* 5. 最顶层 (Text) - 静止 */
#pause::after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: 3;

    background-image: url('../../assets/picture/pause-text.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;

    width: 200px;
    height: 200px;

    transform: translate(-50%, -50%);
}

/* 6. 调整系统自带文字位置 */
#pause figcaption {
    position: relative;
    top: 120px;
    /* 根据圆盘大小调整 */
    z-index: 4;
    font-size: 1.5em;
    text-shadow: 0 0 10px #000;
}

/* ==============================
   调整下方文字容器 (Figcaption)
   ============================== */
#pause figcaption {
    position: relative;
    top: 130px; /* 保持你觉得合适的位置 */
    z-index: 4;
    
    /* 布局控制 */
    display: flex;
    flex-direction: column; /* 垂直排列 */
    align-items: center;    /* 水平居中 */
    justify-content: center;
    
    /* 字体颜色 - 使用系统变量或者稍微带点金色的白 */
    color: #f0f0f0; 
    
    /* 移除 nowrap，允许子元素控制换行 */
    white-space: normal; 
    
    /* 给整个容器一个最大宽度，防止太宽 */
    width: 100%; 
}

/* ==============================
   第二行“笑话”的样式优化
   ============================== */
.pause-flavor {
    /* 1. 强制换行控制 */
    display: block;
    max-width: 600px; /* 【核心】限制最大宽度，超过这个宽度就会自动换行 */
    white-space: normal; /* 允许换行 */
    word-wrap: break-word; /* 防止长单词溢出 */
    
    /* 2. 间距与排版 */
    margin-top: 12px; /* 离“游戏暂停”稍微远一点，太近了不好看 */
    line-height: 1.6; /* 行高大一点，多行显示时更易读 */
    text-align: center;
    
    /* 3. 字体样式 */
    font-size: 0.45em; /* 稍微再小一点，突出精致感 */
    font-weight: normal;
    font-family: var(--font-primary); /* 用系统字体，或者你的楷体/宋体 */
    
    /* 4. 颜色优化 */
    /* 推荐：稍微带一点点透明度的米白色，比纯白更耐看 */
    color: rgba(255, 255, 255, 0.85); 
    
    /* 5. 阴影优化 */
    /* 加上一层淡淡的黑色背景光晕，保证在任何地图背景上都看得清 */
    text-shadow: 
        0 2px 4px rgba(0,0,0,0.8), 
        0 0 10px rgba(0,0,0,0.5);
        
    /* 6. (可选) 加个淡入动画，看起来更高级 */
    animation: flavor-fade-in 1s ease-out;
}

/* 简单的淡入动画 */
@keyframes flavor-fade-in {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 0.85; transform: translateY(0); }
}