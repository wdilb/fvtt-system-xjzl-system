<section class="tab scroll-area {{#if (eq tabs.primary 'skills')}}active{{/if}}" 
         data-tab="skills" 
         data-group="primary">

    {{!-- Grid 布局 --}}
    <div class="xjzl-grid-2">
        
        {{!-- 循环 1：遍历分组 --}}
        {{#each skillGroups as |group|}}
        <div class="xjzl-card">
            {{!-- 属性标题 --}}
            <div class="xjzl-card-header">{{localize group.label}}</div>
            
            {{!-- 技能列表 --}}
            <div class="xjzl-flex-col" style="gap: 5px;">
                
                {{!-- 循环 2：遍历具体技能 Key --}}
                {{#each group.skills as |skillKey|}}
                <div style="display: flex; justify-content: space-between; align-items: center; border-bottom: 1px dashed rgba(0,0,0,0.1); padding: 4px 0;">
                    
                    {{!-- 技能名 --}}
                    <span style="font-weight: bold; color: #333;">
                        {{localize (concat "XJZL.Skills." (capitalize skillKey))}}
                    </span>
                    
                    {{!-- 技能值 --}}
                    {{!-- 【核心修复】：使用 ../../system 来访问根数据的 system --}}
                    <span style="font-size: 1.2em; font-weight: 900; color: var(--xjzl-ink-800);">
                        {{#with (lookup (lookup ../../system.skills skillKey) 'total') as |val|}}
                            {{val}}
                        {{else}}
                            0
                        {{/with}}
                    </span>
                </div>
                {{/each}}
            </div>
        </div>
        {{/each}}

    </div>
</section>