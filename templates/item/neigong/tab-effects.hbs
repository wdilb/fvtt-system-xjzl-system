<section class="tab xjzl-body xjzl-body-scroll {{#if (eq tabs.primary 'effects')}}active{{/if}}" data-tab="effects"
    data-group="primary" data-application-part="effects">

    <div class="xjzl-bg-deco">效</div>

    {{!-- 顶部按钮：靠右对齐，符合操作习惯 --}}
    <div style="margin-bottom: 20px; display: flex; justify-content: flex-end;">
        <button type="button" data-action="createEffect" class="xjzl-btn-seal">
            <i class="fas fa-plus"></i> {{localize "XJZL.UI.CreateEffect"}}
        </button>
    </div>

    {{#if effects.length}}
    <div class="effect-list">
        {{#each effects as |effect|}}
        <div class="xjzl-item-card {{#if effect.disabled}}disabled{{else}}enabled{{/if}}">

            <div class="status-bar"></div>

            <div class="info" style="display: flex; align-items: center; gap: 10px; flex: 1;">
                <img src="{{effect.img}}" width="36" height="36" class="icon"
                    style="border-radius: 4px; border: 1px solid var(--c-ink-light);">

                <div>
                    <h4>{{effect.name}}</h4>
                    <div class="tags">
                        {{#if effect.disabled}}
                        {{!-- 禁用时，只显示“已暂停” --}}
                        <i class="fas fa-ban"></i> {{localize "XJZL.UI.StatusDisabled"}}
                        {{else}}
                        {{!-- 启用时，显示状态 --}}
                        <i class="fas fa-play-circle"></i> {{localize "XJZL.UI.StatusActive"}}
                        {{/if}}
                    </div>
                </div>
            </div>

            {{!-- 这里的按钮不需要变灰，保持可交互 --}}
            <div class="controls" style="display: flex; gap: 5px;">
                <a data-action="toggleEffect" data-id="{{effect.id}}" class="control-btn"
                    title="{{#if effect.disabled}}{{localize 'XJZL.UI.Enable'}}{{else}}{{localize 'XJZL.UI.Disable'}}{{/if}}">
                    <i class="fas {{#if effect.disabled}}fa-toggle-off{{else}}fa-toggle-on{{/if}}"></i>
                </a>
                <a data-action="editEffect" data-id="{{effect.id}}" class="control-btn"
                    title="{{localize 'XJZL.UI.Edit'}}">
                    <i class="fas fa-edit"></i>
                </a>
                <a data-action="deleteEffect" data-id="{{effect.id}}" class="control-btn"
                    title="{{localize 'XJZL.UI.Delete'}}">
                    <i class="fas fa-trash"></i>
                </a>
            </div>
        </div>
        {{/each}}
    </div>
    {{else}}
    {{!-- 空状态展示 (Empty State) --}}
    <div class="empty-state">
        <div class="watermark">无</div>
        <p>{{localize "XJZL.UI.NoEffects"}}</p>
        <span style="font-size: 12px; color: #999;">{{localize "XJZL.UI.AddEffectHint"}}</span>
    </div>
    {{/if}}

</section>