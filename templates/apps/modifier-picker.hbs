<div class="xjzl-modifier-picker">

    {{!-- 搜索栏 (完全复用参考代码) --}}
    <div class="picker-search">
        <i class="fas fa-search"></i>
        <input type="text" name="filter" placeholder="{{localize 'XJZL.UI.Search'}}" autocomplete="off">
    </div>

    {{!-- 滚动区域 --}}
    <div class="picker-scroll">
        {{#each groups as |group|}}
        <div class="picker-group">

            {{!-- 使用 Details/Summary 实现折叠，但样式模仿参考代码的 .section-header --}}
            <details open>
                <summary class="section-header">
                    {{group.label}}
                </summary>

                {{!-- 列表区域 --}}
                <div class="modifier-list">
                    {{#each group.items as |item|}}
                    <button type="button" class="modifier-btn {{#if item.isSelected}}selected{{/if}}"
                        data-key="{{item.key}}">
                        {{!-- 左侧图标 --}}
                        <div class="btn-icon">
                            {{#if item.isSelected}}
                            <i class="fas fa-check-circle" style="color: var(--color-primary);"></i>
                            {{else}}
                            <i class="far fa-circle"></i>
                            {{/if}}
                        </div>

                        {{!-- 右侧文本 --}}
                        <div class="btn-info">
                            <span class="btn-label">{{item.label}}</span>
                            <span class="btn-key">{{item.key}}</span>
                        </div>
                    </button>
                    {{/each}}
                </div>
            </details>
        </div>
        {{/each}}
    </div>
</div>